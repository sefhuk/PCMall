<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order List</title>
    <style>
      table {
        width: 100%;
        border-collapse: collapse;
      }
      table, th, td {
        border: 1px solid black;
      }
      th, td {
        padding: 10px;
        text-align: left;
      }
    </style>
</head>
<body>
    <h1>Order List</h1>
    <table>
        <thead>
        <tr>
            <th>Order ID</th>
            <th>Order Status</th>
            <th>Order Date</th>
            <!-- Add other columns as needed -->
        </tr>
        </thead>
        <tbody id="orderTableBody">
        <!-- Orders will be appended here -->
        </tbody>
    </table>
    
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        fetchOrders();
      });

      function fetchOrders() {
        fetch('/order')
        .then(response => {
          if (response.status === 204) {
            document.getElementById('orderTableBody').innerHTML = '<tr><td colspan="3">No orders found.</td></tr>';
            return [];
          }
          return response.json();
        })
        .then(orders => {
          let tableBody = document.getElementById('orderTableBody');
          tableBody.innerHTML = '';
          orders.forEach(order => {
            let row = document.createElement('tr');
            row.innerHTML = `
                            <td>${order.id}</td>
                            <td>${order.status}</td>
                            <td>${order.orderDate}</td>
                            <!-- Add other columns as needed -->
                        `;
            tableBody.appendChild(row);
          });
        })
        .catch(error => {
          console.error('Error fetching orders:', error);
        });
      }
    </script>
</body>
</html>
